<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cash Register Counter</title>

<!-- 1️⃣ Mobile‑friendly viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    :root{
        --bg-main:#f4f4f4;
        --bg-card:#fff;
        --color-primary:#28a745;
        --color-danger:#dc3545;
        --color-report:#0069d9;
        --color-dark:#333;
        --color-muted:#666;
        --shadow:0 0 10px rgba(0,0,0,.1);
        --radius:8px;
        --radius-sm:4px;
    }

    body{
        font-family:Arial,Helvetica,sans-serif;
        background:var(--bg-main);
        display:flex;
        justify-content:center;
        align-items:flex-start;
        margin:0;
        padding:0;
    }

    .container{
        background:var(--bg-card);
        padding:20px;
        border-radius:var(--radius);
        box-shadow:var(--shadow);
        width:90%;                 /* default width for larger screens */
        max-width:600px;           /* keep a readable max on desktop */
        box-sizing:border-box;
    }

    /* 2️⃣ Force full‑width on mobile/tablet */
    @media (max-width:768px){
        .container{
            width:100%;           /* take the whole viewport width */
            max-width:none;
            border-radius:0;      /* optional – removes rounded corners on tiny screens */
        }
    }

    h1,h2,h3{color:var(--color-dark);text-align:center;}
    p{color:var(--color-muted);text-align:center;margin-bottom:20px;}

    .denomination-group{
        border-bottom:1px solid #ddd;
        padding-bottom:20px;
        margin-bottom:20px;
    }

    .input-row{
        display:flex;
        flex-wrap:wrap;
        justify-content:space-between;
        align-items:center;
        margin-bottom:15px;
    }

    label{
        font-weight:bold;
        flex:1 0 45%;            /* label ≈45 % of the row */
        min-width:70px;
    }

    input[type="number"]{
        flex:1 0 45%;            /* input takes the rest */
        max-width:120px;
        padding:8px;
        border:1px solid #ccc;
        border-radius:var(--radius-sm);
        font-size:16px;          /* ≥16 px stops mobile auto‑zoom */
        text-align:right;
        -moz-appearance:textfield;
        box-sizing:border-box;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button{
        -webkit-appearance:none;margin:0;
    }

    input:focus{outline:2px solid #007bff;}

    .total-container,
    .extra-emails{
        text-align:center;
        margin-top:20px;
    }

    #total{
        font-size:2.2rem;
        font-weight:bold;
        color:var(--color-primary);
        background:#e9f5ee;
        padding:10px 15px;
        border-radius:6px;
        display:inline-block;
        min-width:130px;
    }

    button{
        background:var(--color-danger);
        color:#fff;
        border:none;
        padding:10px 15px;
        font-size:1rem;
        border-radius:var(--radius-sm);
        cursor:pointer;
        margin-top:10px;
        transition:background .3s;
    }
    button:hover{background:#c82333;}
    .email-btn{background:var(--color-report);}
    .email-btn:hover{background:#0056b3;}

    textarea{
        width:100%;
        height:120px;
        margin-top:10px;
        font-family:monospace;
        resize:none;
    }

    .extra-emails{
        display:none;
        margin-top:10px;
    }
    .extra-emails input{
        width:100%;
        padding:6px;
        border:1px solid #ccc;
        border-radius:var(--radius-sm);
        box-sizing:border-box;
    }
</style>
</head>

<body>
<div class="container">
    <h1>Cash Register Counter</h1>
    <p>Enter the number of bills and coins for each denomination to get the total.</p>

    <form id="cash-form" autocomplete="off">
        <!-- Bills -->
        <div class="denomination-group">
            <h2>Bills</h2>
            <div class="input-row"><label for="hundreds">$100:</label><input type="number" id="hundreds" min="0" value="0"></div>
            <div class="input-row"><label for="fifties">$50:</label><input type="number" id="fifties" min="0" value="0"></div>
            <div class="input-row"><label for="twenties">$20:</label><input type="number" id="twenties" min="0" value="0"></div>
            <div class="input-row"><label for="tens">$10:</label><input type="number" id="tens" min="0" value="0"></div>
            <div class="input-row"><label for="fives">$5:</label><input type="number" id="fives" min="0" value="0"></div>
            <div class="input-row"><label for="ones">$1:</label><input type="number" id="ones" min="0" value="0"></div>
        </div>

        <!-- Coins -->
        <div class="denomination-group">
            <h2>Coins</h2>
            <div class="input-row"><label for="quarters">Quarters ($0.25):</label><input type="number" id="quarters" min="0" value="0"></div>
            <div class="input-row"><label for="dimes">Dimes ($0.10):</label><input type="number" id="dimes" min="0" value="0"></div>
            <div class="input-row"><label for="nickels">Nickels ($0.05):</label><input type="number" id="nickels" min="0" value="0"></div>
            <div class="input-row"><label for="pennies">Pennies ($0.01):</label><input type="number" id="pennies" min="0" value="0"></div>
        </div>

        <!-- Totals & Controls -->
        <div class="total-container">
            <h3>Total Amount:</h3>
            <div id="total">$0.00</div>
            <br>
            <button type="button" id="clear-button">Clear All</button>
            <button type="button" id="email-button" class="email-btn">Email Report</button>
        </div>

        <!-- Extra email input (shown on demand) -->
        <div class="extra-emails" id="extra-emails">
            <label for="additional-emails">Additional recipients (comma‑separated):</label><br>
            <input type="text" id="additional-emails" placeholder="example@domain.com, another@site.org">
        </div>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    /* ---------- Email configuration (base‑64 obfuscation) ---------- */
    const DEFAULT_EMAIL_B64 = "aW5mb0Bmb3VudGFpbmZwZW5ob3NwaXRhbC5jb20="; // info@fountainpenhospital.com
    const decodeBase64 = str => decodeURIComponent(atob(str).split('').map(c =>
        '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)
    ).join(''));
    const defaultEmail = decodeBase64(DEFAULT_EMAIL_B64);

    /* ---------- Denominations & element references ---------- */
    const denominations = {
        hundreds:100, fifties:50, twenties:20, tens:10,
        fives:5, ones:1, quarters:0.25, dimes:0.10,
        nickels:0.05, pennies:0.01
    };

    const inputs   = document.querySelectorAll('input[type="number"]');
    const totalEl  = document.getElementById('total');
    const clearBtn = document.getElementById('clear-button');
    const emailBtn = document.getElementById('email-button');
    const extraDiv = document.getElementById('extra-emails');
    const addInp   = document.getElementById('additional-emails');
    const form     = document.getElementById('cash-form');

    form.addEventListener('submit', e => e.preventDefault());

    /* ---------- Live total calculation ---------- */
    const calculateTotal = () => {
        let total = 0;
        inputs.forEach(inp => {
            const cnt = Math.max(parseFloat(inp.value) || 0, 0);
            total += cnt * denominations[inp.id];
        });
        total = Math.round(total * 100) / 100;
        totalEl.textContent = `$${total.toFixed(2)}`;
        return total;
    };

    /* ---------- Build report (used for email) ---------- */
    const buildReport = () => {
        const lines = [];
        lines.push(`Cash Register Report – ${new Date().toLocaleString()}`);
        lines.push('----------------------------------------');
        let grand = 0;
        const order = ['hundreds','fifties','twenties','tens','fives','ones',
                       'quarters','dimes','nickels','pennies'];
        const fmt = id => ({
            hundreds:'$100 bill', fifties:'$50 bill', twenties:'$20 bill',
            tens:'$10 bill', fives:'$5 bill', ones:'$1 bill',
            quarters:'Quarter ($0.25)', dimes:'Dime ($0.10)',
            nickels:'Nickel ($0.05)', pennies:'Penny ($0.01)'
        })[id]||id;

        order.forEach(id => {
            const cnt = Math.max(parseFloat(document.getElementById(id).value)||0,0);
            if (cnt>0){
                const val = denominations[id]*cnt;
                grand += val;
                lines.push(`${cnt} × ${fmt(id)} = $${val.toFixed(2)}`);
            }
        });
        lines.push('----------------------------------------');
        lines.push(`TOTAL: $${grand.toFixed(2)}`);
        return lines.join('\n');
    };

    /* ---------- Clear all fields ---------- */
    const clearAll = () => {
        inputs.forEach(i=>i.value='0');
        calculateTotal();
        extraDiv.style.display='none';
        addInp.value='';
    };

    /* ---------- Show/hide extra‑email field ---------- */
    const toggleExtra = () => {
        extraDiv.style.display = extraDiv.style.display==='none' ? 'block' : 'none';
        if (extraDiv.style.display==='block') addInp.focus();
    };

    /* ---------- Send email ---------- */
    const sendEmail = () => {
        const report = buildReport();
        const extra = addInp.value.split(',').map(e=>e.trim()).filter(e=>e).join(',');
        const to = extra ? `${defaultEmail},${extra}` : defaultEmail;
        const subject = encodeURIComponent('Cash Register Report');
        const body    = encodeURIComponent(report);
        window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    };

    /* ---------- Input UX (focus/blur) ---------- */
    inputs.forEach(inp => {
        inp.addEventListener('focus', () => {
            if (inp.value === '0') inp.value = '';
        });
        inp.addEventListener('blur', () => {
            if (inp.value.trim() === '') inp.value = '0';
        });
        inp.addEventListener('input', calculateTotal);
    });

    /* ---------- Button actions ---------- */
    clearBtn.addEventListener('click', clearAll);
    emailBtn.addEventListener('click', () => {
        // First click reveals extra‑recipients; second click sends
        if (extraDiv.style.display === 'none') {
            toggleExtra();
        } else {
            sendEmail();
        }
    });

    // Initialise total on load
    calculateTotal();
});
</script>
</body>
</html>

